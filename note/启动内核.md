# 7.2 日志和笔记

qemu 的 -kernel 选项可以直接启动内核，并且将内核放在0x8000的位置，因此我们不打算写bootloader等东西，直接用-kernel选项运行elf文件。

## gcc 编译流程

- gcc -c 选项生成的.o文件是二进制文件，但是没有对地址进行重新定位

- gcc链接过程中调用ld链接器的时候使用了默认脚本，可以使用ld --verbose查看默认的编译脚本
  
- 我们要使用自己的链接脚本，把内核定位到0x0080的位置

## ld 链接脚本学习
- OUTPUT_ARCH 输出平台
- ENTRY( _entry ) 入口函数
- SECTIONS 节

## ELF文件加载要做的事情
- 文件加载初期需要执行一系列初始化的操作才能完成文件的执行
- 在linux系统下执行main函数之前要先执行_start函数，对堆栈等东西进行必要的初始化操作